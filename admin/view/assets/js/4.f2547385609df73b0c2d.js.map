{"version":3,"sources":["webpack:///src/views/memoryList.vue","webpack:///./src/api/memoryList.js","webpack:///./src/views/memoryList.vue?1f44","webpack:///./src/views/memoryList.vue"],"names":["memoryList","name","data","pager","pageNo","pageSize","options","click","probeType","scrollbar","pullDownRefresh","pullUpLoad","isNoMore","activated","this","_getUserMemorys","methods","goback","$router","go","_this","params","fetch","get","getUserMemorys","extends_default","then","res","length","concat","setTimeout","$refs","scroll","forceUpdate","onPullingUp","_deleteUserMemory","item","index","_this2","deleteUserMemory","ids","id","splice","$createToast","txt","time","type","show","catch","e","message","views_memoryList","render","_vm","_h","$createElement","_c","_self","staticClass","on","_v","ref","staticStyle","margin-top","position","padding-bottom","box-sizing","attrs","pulling-up","_l","key","_s","content","createTime","Date","toLocaleString","$event","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"qJA+BA,IAAAA,GACAC,KAAA,aACAC,KAFA,WAGA,OACAC,OACAC,OAAA,EACAC,SAAA,IAEAC,SACAC,OAAA,EACAC,UAAA,EACAC,WAAA,EACAC,iBAAA,EACAC,YAAA,GAEAX,cACAY,UAAA,IAGAC,UAnBA,WAoBAC,KAAAd,cACAc,KAAAC,mBAEAC,SACAC,OADA,WAEAH,KAAAI,QAAAC,IAAA,IAEAJ,gBAJA,WAIA,IAAAK,EAAAN,MC1DO,SAAyBO,GAC9B,OAAOC,MAAMC,IAAI,yBAA0BF,ID6DvCG,CAHNC,OACAX,KAAAX,QAEAuB,KAAA,SAAAC,GACAA,EAAAzB,MAAAyB,EAAAzB,KAAA0B,OAAA,EACAR,EAAApB,WAAAoB,EAAApB,WAAA6B,OAAAF,EAAAzB,OAEAkB,EAAAjB,MAAAC,SACA0B,WAAA,WACAV,EAAAW,MAAAC,OAAAC,cACAb,EAAAR,UAAA,EACAkB,WAAA,WACAV,EAAAR,UAAA,GACA,MACA,SAIAsB,YAvBA,WAwBApB,KAAAX,MAAAC,SACAU,KAAAC,mBAEAoB,kBA3BA,SA2BAC,EAAAC,GAAA,IAAAC,EAAAxB,MC9EO,SAA2BO,GAChC,OAAOC,MAAMC,IAAI,2BAA4BF,IDiFzCkB,EAFNC,IAAAJ,EAAAK,KAEAf,KAAA,SAAAC,GACAW,EAAAtC,WAAA0C,OAAAL,EAAA,GACAC,EAAAK,cACAC,IAAA,OACAC,KAAA,IACAC,KAAA,YACAC,SACAC,MAAA,SAAAC,GACAX,EAAAK,cACAC,IAAAK,EAAAC,QACAL,KAAA,IACAC,KAAA,UACAC,YE9FeI,GADEC,OAFjB,WAA0B,IAAAC,EAAAvC,KAAawC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,eAAyBF,EAAA,OAAYE,YAAA,aAAuBF,EAAA,OAAYE,YAAA,WAAqBF,EAAA,QAAaE,YAAA,cAAAC,IAA8BpD,MAAA8C,EAAApC,YAAoBoC,EAAAO,GAAA,KAAAJ,EAAA,OAA0BE,YAAA,WAAqBL,EAAAO,GAAA,UAAAP,EAAAO,GAAA,KAAAJ,EAAA,eAAiDK,IAAA,SAAAC,aAA0BC,aAAA,MAAAC,SAAA,WAAAC,iBAAA,OAAAC,aAAA,cAA2FC,OAAQ7D,QAAA+C,EAAA/C,QAAAJ,KAAAmD,EAAArD,YAA4C2D,IAAKS,aAAAf,EAAAnB,eAA8BsB,EAAA,MAAWE,YAAA,WAAsBL,EAAAgB,GAAAhB,EAAA,oBAAAjB,EAAAC,GAA8C,OAAAmB,EAAA,MAAgBc,IAAAlC,EAAAK,KAAYe,EAAA,OAAYE,YAAA,YAAsBL,EAAAO,GAAAP,EAAAkB,GAAAnC,EAAAoC,YAAAnB,EAAAO,GAAA,KAAAJ,EAAA,OAAuDE,YAAA,cAAwBF,EAAA,OAAYE,YAAA,WAAqBL,EAAAO,GAAAP,EAAAkB,GAAAnC,EAAAqC,YAAA,IAAAC,KAAAtC,EAAAqC,YAAAE,qBAAAtB,EAAAO,GAAA,KAAAJ,EAAA,OAAwGE,YAAA,WAAqBF,EAAA,KAAUE,YAAA,yBAAAC,IAAyCpD,MAAA,SAAAqE,GAAyB,OAAAvB,EAAAlB,kBAAAC,EAAAC,eAAoD,GAAAgB,EAAAO,GAAA,KAAAP,EAAA,SAAAG,EAAA,OAA0CE,YAAA,WAAqBL,EAAAO,GAAA,YAAAP,EAAAwB,QAAA,IAE1lCC,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEjF,EACAmD,GATF,EAVA,SAAA+B,GACEF,EAAQ,SAaV,KAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"assets/js/4.f2547385609df73b0c2d.js","sourcesContent":["<template>\r\n<div class=\"memoryList\">\r\n  <div class=\"nav flex\">\r\n    <div class=\"flex-1\">\r\n      <span class=\"cubeic-back\" @click='goback'></span>\r\n    </div>\r\n    <div class=\"flex-1\">拾忆</div>\r\n  </div>\r\n  <cube-scroll\r\n    ref=\"scroll\"\r\n    :options='options'\r\n    :data=\"memoryList\"\r\n    style='margin-top: 3px;position: relative;padding-bottom: 40px;box-sizing: border-box;'\r\n    @pulling-up=\"onPullingUp\"\r\n   >\r\n    <ul class=\"memorys\">\r\n      <li v-for='(item, index) in memoryList' :key='item.id'>\r\n        <div class=\"content\">{{item.content}}</div>\r\n        <div class=\"flex info\">\r\n          <div class=\"flex-1\">{{item.createTime && new Date(item.createTime).toLocaleString()}}</div>\r\n          <div class=\"flex-1\"><i class='cubeic-delete deleteic' @click='_deleteUserMemory(item, index)'></i></div>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n    <div class=\"nomore\" v-if='isNoMore'>暂无更多数据</div>\r\n  </cube-scroll>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { getUserMemorys, deleteUserMemory } from '@/api/memoryList'\r\nexport default {\r\n  name: 'memoryList',\r\n  data () {\r\n    return {\r\n      pager: {\r\n        pageNo: 1,\r\n        pageSize: 30\r\n      },\r\n      options: {\r\n        click: true,\r\n        probeType: 1,\r\n        scrollbar: true,\r\n        pullDownRefresh: false,\r\n        pullUpLoad: true\r\n      },\r\n      memoryList: [],\r\n      isNoMore: false\r\n    }\r\n  },\r\n  activated () {\r\n    this.memoryList = []\r\n    this._getUserMemorys()\r\n  },\r\n  methods: {\r\n    goback () {\r\n      this.$router.go(-1)\r\n    },\r\n    _getUserMemorys () {\r\n      var params = {\r\n        ...this.pager\r\n      }\r\n      getUserMemorys(params).then(res => {\r\n        if (res.data && res.data.length > 0) {\r\n          this.memoryList = this.memoryList.concat(res.data)\r\n        } else {\r\n          this.pager.pageNo--\r\n          setTimeout(() => {\r\n            this.$refs.scroll.forceUpdate()\r\n            this.isNoMore = true\r\n            setTimeout(() => {\r\n              this.isNoMore = false\r\n            }, 1000)\r\n          }, 200)\r\n        }\r\n      })\r\n    },\r\n    onPullingUp () {\r\n      this.pager.pageNo++\r\n      this._getUserMemorys()\r\n    },\r\n    _deleteUserMemory (item, index) {\r\n      var params = {\r\n        ids: item.id\r\n      }\r\n      deleteUserMemory(params).then(res => {\r\n        this.memoryList.splice(index, 1)\r\n        this.$createToast({\r\n          txt: '操作成功',\r\n          time: 2000,\r\n          type: 'correct'\r\n        }).show()\r\n      }).catch(e => {\r\n        this.$createToast({\r\n          txt: e.message,\r\n          time: 2000,\r\n          type: 'error'\r\n        }).show()\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.memoryList{\r\n  height: 100%;\r\n  padding-top: 50px;\r\n  box-sizing: border-box;\r\n  background-color: #f1f1f1;\r\n  .memorys{\r\n    height: 100%;\r\n    overflow: auto;\r\n    li{\r\n      padding: 10px 10px 0 10px;\r\n      background-color: #fff;\r\n      margin-bottom: 10px;\r\n      .content{\r\n        padding: 10px 0;\r\n        border-bottom:1px solid #e5e5e5 ;\r\n      }\r\n      .info{\r\n        padding: 5px;\r\n        line-height: 30px;\r\n        >div:first-of-type{\r\n          font-size: 12px;\r\n          color: #999;\r\n        }\r\n        >div:last-of-type{\r\n          text-align: right;\r\n          color: #ff0000;\r\n          font-size: 20px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .nav{\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n  }\r\n  .nomore{\r\n    width: 100%;\r\n    text-align: center;\r\n    font-size: 12px;\r\n    color: #999;\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n    height: 40px;\r\n    line-height: 40px;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/memoryList.vue","export function getUserMemorys (params) {\r\n  return fetch.get('/memory/getUserMemorys', params)\r\n}\r\nexport function deleteUserMemory (params) {\r\n  return fetch.get('/memory/deleteUserMemory', params)\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/memoryList.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"memoryList\"},[_c('div',{staticClass:\"nav flex\"},[_c('div',{staticClass:\"flex-1\"},[_c('span',{staticClass:\"cubeic-back\",on:{\"click\":_vm.goback}})]),_vm._v(\" \"),_c('div',{staticClass:\"flex-1\"},[_vm._v(\"拾忆\")])]),_vm._v(\" \"),_c('cube-scroll',{ref:\"scroll\",staticStyle:{\"margin-top\":\"3px\",\"position\":\"relative\",\"padding-bottom\":\"40px\",\"box-sizing\":\"border-box\"},attrs:{\"options\":_vm.options,\"data\":_vm.memoryList},on:{\"pulling-up\":_vm.onPullingUp}},[_c('ul',{staticClass:\"memorys\"},_vm._l((_vm.memoryList),function(item,index){return _c('li',{key:item.id},[_c('div',{staticClass:\"content\"},[_vm._v(_vm._s(item.content))]),_vm._v(\" \"),_c('div',{staticClass:\"flex info\"},[_c('div',{staticClass:\"flex-1\"},[_vm._v(_vm._s(item.createTime && new Date(item.createTime).toLocaleString()))]),_vm._v(\" \"),_c('div',{staticClass:\"flex-1\"},[_c('i',{staticClass:\"cubeic-delete deleteic\",on:{\"click\":function($event){return _vm._deleteUserMemory(item, index)}}})])])])}),0),_vm._v(\" \"),(_vm.isNoMore)?_c('div',{staticClass:\"nomore\"},[_vm._v(\"暂无更多数据\")]):_vm._e()])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-abe177ca\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/memoryList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-abe177ca\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./memoryList.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./memoryList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./memoryList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-abe177ca\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./memoryList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/memoryList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}