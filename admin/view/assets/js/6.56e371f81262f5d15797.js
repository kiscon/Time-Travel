webpackJsonp([6],{ALB2:function(t,e){},yTGp:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("4YfN"),o=i.n(s),n=i("ZLEe"),a=i.n(n),c=i("R4Sj");var l={name:"Edit",data:function(){return{feelling:"",placeholder:"写给未来的自己......",maxlength:100,autofocus:!0}},methods:{goback:function(){var t=this;this.feelling.length>0?this.$createDialog({type:"confirm",content:"是否保存当前信息？",confirmBtn:{text:"是",active:!0,disabled:!1,href:"javascript:;"},cancelBtn:{text:"否",active:!1,disabled:!1,href:"javascript:;"},onCancel:function(){t.feelling="",t.$router.go(-1)},onConfirm:function(){t.$router.go(-1)}}).show():this.$router.go(-1)},_pulish:function(){var t=this;if(0!==a()(this.positions).length){var e=this.positions.addressComponent;(function(t){return fetch.post("/memory/addMemory",t)})({content:this.feelling,lng:this.positions.position?this.positions.position.R:"",lat:this.positions.position?this.positions.position.Q:"",address:e.province+e.district+e.street+e.streetNumber}).then(function(e){t.$createToast({txt:"发布成功",time:2e3,type:"correct"}).show(),t.feelling="",t.$router.push({path:"/"})}).catch(function(e){console.log(e),t.$createToast({txt:e.message,time:2e3,type:"error"}).show()})}else this.$createToast({txt:"未获取定位信息,不能发布动态"}).show()}},computed:o()({},Object(c.b)(["positions"]))},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"Edit"},[i("div",{staticClass:"nav flex"},[i("div",{staticClass:"flex-1"},[i("span",{staticClass:"cubeic-back",on:{click:t.goback}})]),t._v(" "),i("div",{staticClass:"flex-1"},[i("cube-button",{staticStyle:{color:"#07CBFC"},attrs:{type:"button",outline:!0,disabled:0===t.feelling.length},on:{click:t._pulish}},[t._v("发布")])],1)]),t._v(" "),i("div",{staticClass:"edit-wrapper"},[i("cube-textarea",{attrs:{placeholder:t.placeholder,maxlength:t.maxlength,autofocus:t.autofocus},model:{value:t.feelling,callback:function(e){t.feelling=e},expression:"feelling"}})],1)])},staticRenderFns:[]};var u=i("C7Lr")(l,r,!1,function(t){i("ALB2")},null,null);e.default=u.exports}});
//# sourceMappingURL=6.56e371f81262f5d15797.js.map