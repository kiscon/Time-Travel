webpackJsonp([4],{"0GpI":function(e,t){},nuy3:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("4YfN"),o=s.n(i);var r={name:"memoryList",data:function(){return{pager:{pageNo:1,pageSize:30},options:{click:!0,probeType:1,scrollbar:!0,pullDownRefresh:!1,pullUpLoad:!0},memoryList:[],isNoMore:!1}},activated:function(){this.memoryList=[],this._getUserMemorys()},methods:{goback:function(){this.$router.go(-1)},_getUserMemorys:function(){var e=this;(function(e){return fetch.get("/memory/getUserMemorys",e)})(o()({},this.pager)).then(function(t){t.data&&t.data.length>0?e.memoryList=e.memoryList.concat(t.data):(e.pager.pageNo--,setTimeout(function(){e.$refs.scroll.forceUpdate(),e.isNoMore=!0,setTimeout(function(){e.isNoMore=!1},1e3)},200))})},onPullingUp:function(){this.pager.pageNo++,this._getUserMemorys()},_deleteUserMemory:function(e,t){var s=this;(function(e){return fetch.get("/memory/deleteUserMemory",e)})({ids:e.id}).then(function(e){s.memoryList.splice(t,1),s.$createToast({txt:"操作成功",time:2e3,type:"correct"}).show()}).catch(function(e){s.$createToast({txt:e.message,time:2e3,type:"error"}).show()})}}},n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"memoryList"},[s("div",{staticClass:"nav flex"},[s("div",{staticClass:"flex-1"},[s("span",{staticClass:"cubeic-back",on:{click:e.goback}})]),e._v(" "),s("div",{staticClass:"flex-1"},[e._v("拾忆")])]),e._v(" "),s("cube-scroll",{ref:"scroll",staticStyle:{"margin-top":"3px",position:"relative","padding-bottom":"40px","box-sizing":"border-box"},attrs:{options:e.options,data:e.memoryList},on:{"pulling-up":e.onPullingUp}},[s("ul",{staticClass:"memorys"},e._l(e.memoryList,function(t,i){return s("li",{key:t.id},[s("div",{staticClass:"content"},[e._v(e._s(t.content))]),e._v(" "),s("div",{staticClass:"flex info"},[s("div",{staticClass:"flex-1"},[e._v(e._s(t.createTime&&new Date(t.createTime).toLocaleString()))]),e._v(" "),s("div",{staticClass:"flex-1"},[s("i",{staticClass:"cubeic-delete deleteic",on:{click:function(s){return e._deleteUserMemory(t,i)}}})])])])}),0),e._v(" "),e.isNoMore?s("div",{staticClass:"nomore"},[e._v("暂无更多数据")]):e._e()])],1)},staticRenderFns:[]};var a=s("C7Lr")(r,n,!1,function(e){s("0GpI")},null,null);t.default=a.exports}});
//# sourceMappingURL=4.f2547385609df73b0c2d.js.map